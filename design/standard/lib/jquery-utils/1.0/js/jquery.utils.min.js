(function(a){a.fn.ajaxjson=function(b){var c={type:"GET",url:"/",params:{},callback:{success:function(){return true},before:function(){return true},error:function(){return false},complete:function(){return true}}};b.callback=a.extend(c.callback,b.callback);var b=a.extend(c,b);a.ajax({type:b.type,url:b.url,data:b.params,beforeSend:function(d){if(jQuery.isFunction(b.callback.before)){(b.callback.before)()}},success:function(e){var d=jQuery.parseJSON(e);if(jQuery.isFunction(b.callback.success)){(b.callback.success)(d)}},error:function(){if(jQuery.isFunction(b.callback.error)){(b.callback.error)()}},complete:function(){if(jQuery.isFunction(b.callback.complete)){(b.callback.complete)()}}})}})(jQuery);(function(a){a.fn.sendform=function(b){var c={url:a(this).attr("action"),type:a(this).attr("method"),onsubmit:{start:function(d){return true},success:function(d){return true},error:function(d){return false},finish:function(d){return true}}};b.onsubmit=a.extend(c.onsubmit,b.onsubmit);b.data=a.extend(c.data,b.data);var b=a.extend(c,b);a.fn.ajaxjson({type:b.type,url:b.url,params:a(this).serialize()+"&"+a(this).find("input[type='submit']").attr("name")+"="+a(this).find("input[type='submit']").attr("name"),callback:{before:function(d){(b.onsubmit.start)(d)},success:function(d){(b.onsubmit.success)(d)},error:function(d){(b.onsubmit.error)(d)},complete:function(d){(b.onsubmit.finish)(d)}}})}})(jQuery);function reloadTab(f,d,b,g,e){f.preventDefault();var a=$(d).tabs("option","selected");var c=$(d).tabs("option","ajaxOptions");if(g){c.data=g}if(e){c.type=e}$(d).tabs("option","ajaxOptions",c);if(b){$(d).tabs("url",a,b)}$(d).tabs("load",a);$(d).tabs("option","ajaxOptions",{dataFilter:function(h){return $.parseJSON(h).m},error:function(k,h,j,i){$(i.hash).html($(d).children("#tabs_error").html())}})}function ajaxTabs(a){$(a).tabs({ajaxOptions:{dataFilter:function(b){return $.parseJSON(b).m},error:function(e,b,d,c){$(c.hash).html($(a).children("#tabs_error").html())}},cookie:{expires:1},spinner:function(){var b=$(a).tabs("option","selected");$(a+" .label-"+b).show()},cache:true})}function refreshTab(d,c,f){if($(d).length>0){var b=$(d).tabs("option","selected");var e=$(d).tabs("option","idPrefix");var a="#"+e+(b+1);$(a+" .pagenavigator a[href]").each(function(){$(this).click(function(g){gform=getForm(f,c);reloadTab(g,d,$(this).attr("href"),gform.data,gform.type)})});$(a+" .refresh-click").each(function(){$(this).click(function(g){gform=getForm(f,c);reloadTab(g,d,gform.url,gform.data,gform.type)})});$(a+" "+f+" .refresh-change").each(function(){$(this).change(function(g){gform=getForm(f,c);reloadTab(g,d,gform.url,gform.data,gform.type)})});$(a+" "+f+" input[type=submit]").click(function(g){gform=getForm(f,c);reloadTab(g,d,gform.url,gform.data,gform.type)})}};